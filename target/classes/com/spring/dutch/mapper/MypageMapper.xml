<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.dutch.mapper.MypageMapper">

<!-- mno로 회원정보 가져오기 -->
<select id="selectMemberData" resultType="com.spring.dutch.domain.MemberVO"
		parameterType="long">
	SELECT  mno, nickname, bank, bank_account,
		    username, email, password, hp, cellphone,
		    reg_date, mod_date, del_flag, enabled,
		    login_type, gender, age
	FROM dutch.tbl_member
	WHERE mno = #{mno}
</select>

<!-- 회원정보 수정(UPDATE)-->
	<update id="updateMember" parameterType="com.spring.dutch.domain.MemberVO">
		UPDATE dutch.tbl_member
		SET nickname = #{nickname} ,
			password = #{password} ,
			hp = #{hp} ,
			cellphone = #{cellphone} ,
	    	mod_date = DEFAULT
		WHERE mno = #{mno}	
	</update>

<!-- 회원탈퇴 (DELETE) -->
	<delete id="deleteMember" parameterType="long">
		DELETE FROM dutch.tbl_member
		WHERE mno = #{mno} 
	</delete>

</mapper>